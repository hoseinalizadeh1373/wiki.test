"use strict";(self.webpackChunkuimotelndefined=self.webpackChunkuimotelndefined||[]).push([[3294],{653:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>a,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"pbx/advance-settings/simotelhelper_tool","title":"simotelhelper Tool","description":"simotelhelper is a command-line tool for managing and maintaining Call Center services. It plays a crucial role in troubleshooting processes and is often one of the first tools used for system diagnostics.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/pbx/4-advance-settings/5-simotelhelper_tool.md","sourceDirName":"pbx/4-advance-settings","slug":"/pbx/advance-settings/simotelhelper_tool","permalink":"/wiki.test/pbx/advance-settings/simotelhelper_tool","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{},"sidebar":"Docs","previous":{"title":"Simotel Update","permalink":"/wiki.test/pbx/advance-settings/simotelupdate"},"next":{"title":"Settings for simotel.ini","permalink":"/wiki.test/pbx/advance-settings/simotel.ini"}}');var t=r(4848),l=r(8453);const o={title:void 0},i="simotelhelper Tool",a={},d=[{value:"simotelhelper help",id:"simotelhelper-help",level:2},{value:"simotelhelper check",id:"simotelhelper-check",level:2},{value:"simotelhelper db",id:"simotelhelper-db",level:2},{value:"simotelhelper db help",id:"simotelhelper-db-help",level:3},{value:"simotelhelper db backup",id:"simotelhelper-db-backup",level:3},{value:"simotelhelper db connect",id:"simotelhelper-db-connect",level:3},{value:"simotelhelper db repair",id:"simotelhelper-db-repair",level:3},{value:"simotelhelper db restore",id:"simotelhelper-db-restore",level:3},{value:"simotelhelper db start",id:"simotelhelper-db-start",level:3},{value:"simotelhelper db status",id:"simotelhelper-db-status",level:3},{value:"simotelhelper db stop",id:"simotelhelper-db-stop",level:3},{value:"simotelhelper iptables",id:"simotelhelper-iptables",level:2},{value:"simotelhelper patch",id:"simotelhelper-patch",level:3},{value:"simotelhelper serial",id:"simotelhelper-serial",level:2},{value:"simotelhelper serverstatus",id:"simotelhelper-serverstatus",level:2},{value:"simotelhelper timezone",id:"simotelhelper-timezone",level:2},{value:"simotelhelper update",id:"simotelhelper-update",level:2},{value:"simotelhelper version",id:"simotelhelper-version",level:2}];function h(e){const s={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"simotelhelper-tool",children:"simotelhelper Tool"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"simotelhelper"})," is a command-line tool for managing and maintaining Call Center services. It plays a crucial role in troubleshooting processes and is often one of the first tools used for system diagnostics."]}),"\n",(0,t.jsx)(s.admonition,{title:"Information",type:"info",children:(0,t.jsx)(s.p,{children:"simotelhelper is a command-line tool, and you need shell access to the Linux server to use it."})}),"\n",(0,t.jsx)(s.admonition,{title:"Warning",type:"caution",children:(0,t.jsx)(s.p,{children:"It is recommended not to use this tool until you have a clear understanding of how the Call Center and its core services operate."})}),"\n",(0,t.jsx)(s.p,{children:"Below are the commands related to this tool, explained in detail."}),"\n",(0,t.jsx)(s.h2,{id:"simotelhelper-help",children:"simotelhelper help"}),"\n",(0,t.jsx)(s.p,{children:"This command outputs a guide of available commands."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Sample Output:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:'root@simotel:~# simotelhelper help\r\nSimotel Helper\r\n\r\nUsage:\r\n  simotelhelper [flags]\r\n  simotelhelper [command]\r\n\r\nAvailable Commands:\r\n  check        check simotel tools and server\r\n  db           do something on database\r\n  help         Help about any command\r\n  initiate     initiate simotel\r\n  iptables     manage iptables\r\n  patch        patch\r\n  reinstall    doing update\r\n  scmid        show scmid\r\n  serial       show serial\r\n  serverstatus Server status\r\n  timezone     change server timezone\r\n  update       doing update\r\n  version      show simotel helper version\r\n\r\nFlags:\r\n  -h, --help          help for simotelhelper\r\n      --host string   Address of server (default "update.mysup.ir")\r\n      --port int      Port of server (default 4994)\r\n\r\nUse "simotelhelper [command] --help" for more information about a command.\n'})}),"\n",(0,t.jsx)(s.h2,{id:"simotelhelper-check",children:"simotelhelper check"}),"\n",(0,t.jsx)(s.p,{children:"This command checks the status of vital server services and provides a report."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Sample Output:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"root@simotel:~# simotelhelper check\r\n\r\nSimotel version : 6.2.22\r\nsimotelhelper version : 23\r\n\r\nSimotel package p38: 1\r\nSound PR: 8\r\nPBX configs version: 8\r\n\r\nSimotel: NOT RUNNING\r\nSimotelagi: RUNNING\r\nsimotelhelper: RUNNING\r\nMongodb: RUNNING\r\nRedis: RUNNING\r\nPBX: RUNNING\n"})}),"\n",(0,t.jsx)(s.p,{children:"As shown, the output includes information about the installed Simotel version, the simotelhelper version, sound file versions, and the status of Call Center services."}),"\n",(0,t.jsx)(s.h2,{id:"simotelhelper-db",children:"simotelhelper db"}),"\n",(0,t.jsx)(s.p,{children:"This command performs database-related tasks. The arguments related to this command are explained below."}),"\n",(0,t.jsx)(s.h3,{id:"simotelhelper-db-help",children:"simotelhelper db help"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:'root@simotel:~# simotelhelper db help\r\ndo something on database\r\n\r\nUsage:\r\n  simotelhelper db [command]\r\n\r\nAvailable Commands:\r\n  backup      backup database by some strategies\r\n  connect     connect to mongodb cli\r\n  repair      repair database\r\n  restore     restore backup files to database\r\n  start       start database\r\n  status      show database status\r\n  stop        stop database\r\n\r\nFlags:\r\n  -h, --help   help for db\r\n\r\nGlobal Flags:\r\n      --host string   Address of server (default "update.mysup.ir")\r\n      --port int      Port of server (default 4994)\r\n\r\nUse "simotelhelper db [command] --help" for more information about a command.\r\nsubcommand is required\n'})}),"\n",(0,t.jsx)(s.p,{children:"The output provides a guide to the commands related to database management."}),"\n",(0,t.jsx)(s.h3,{id:"simotelhelper-db-backup",children:"simotelhelper db backup"}),"\n",(0,t.jsxs)(s.p,{children:["This command is responsible for creating backup files of the database. To see the types of backup strategies, use the command ",(0,t.jsx)(s.strong,{children:"simotelhelper db backup show"}),"."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Output of simotelhelper db backup show:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"root@simotel:~# simotelhelper db backup show\r\n\r\nstrategies     description\r\nall             backup full database (simotel and autodialer)\r\nall-no-reports  backup all simotel data expect reports\r\ncustom          selective backup\r\ndashboard       backup dashboards\r\ndialer          backup autodialer without reports\r\ndialer-report   backup autodialer reports\r\ndialer-sounds   backup autodialer sounds (announcements)\r\npbx             backup pbx entities, burst calls, voice mails and dial plan editor\r\nreports         backup cdr, cdr of queues, queue logs and poll\r\nsettings        backup setting\r\nsound           backup simotel sounds (announcements)\r\nvoice-mail      backup simotel voice mails with sounds (db format)\r\nweb-members     backup web accounts and account types\n"})}),"\n",(0,t.jsx)(s.p,{children:"This section displays various backup strategies, and by writing the name of the strategy before the command, the system will start backing up."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Output of simotelhelper db backup pbx:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"root@simotel:~# simotelhelper db backup pbx\r\nDEBUG 2021-06-23T12:03:04.454+0430      writing Simotel.dialplan_editor_history to archive '/var/spool/simotel/backup/cli/Simotel-pbx-20210623-1203.gz.creating'\r\n...\r\nDEBUG backup completed, successfully. /var/spool/simotel/backup/cli/Simotel-pbx-20210623-1203.gz\n"})}),"\n",(0,t.jsxs)(s.p,{children:["By entering this command, the system begins backing up the contents of the ",(0,t.jsx)(s.strong,{children:"pbx"})," section, and the backup file path is displayed (useful for restoring backups)."]}),"\n",(0,t.jsx)(s.h3,{id:"simotelhelper-db-connect",children:"simotelhelper db connect"}),"\n",(0,t.jsx)(s.p,{children:"This command allows direct connection to the MongoDB shell."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Output of simotelhelper db connect:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"root@simotel:~# simotelhelper db connect\r\nMongoDB shell version v4.4.0\r\nconnecting to: mongodb://127.0.0.1:27017/admin?compressors=disabled&gssapiServiceName=mongodb\r\n...\r\nWelcome to the MongoDB shell.\n"})}),"\n",(0,t.jsx)(s.admonition,{title:"Warning",type:"caution",children:(0,t.jsx)(s.p,{children:"If you are not familiar with designing and working with MongoDB databases, it is strongly advised not to use this command or make changes at the database level."})}),"\n",(0,t.jsx)(s.h3,{id:"simotelhelper-db-repair",children:"simotelhelper db repair"}),"\n",(0,t.jsx)(s.p,{children:"If there is an issue with the database's performance, this command can be used to resolve the problem."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Output of simotelhelper db repair:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:'root@simotel:~# simotelhelper db repair\r\n---------------------------------\r\nSuccessfully stop mongodb\r\n---------------------------------\r\nDo you want to make a copy of "db" before repairing to "/usr/src/mongodb/dbdata/db-back-repair/" ? [y/n]\r\ny\r\n...\r\n{"t":{"$date":"2021-06-23T12:22:58.472+04:30"},"s":"I",  "c":"CONTROL",  "id":23138,   "ctx":"initandlisten","msg":"Shutting down","attr":{"exitCode":0}}\n'})}),"\n",(0,t.jsx)(s.h3,{id:"simotelhelper-db-restore",children:"simotelhelper db restore"}),"\n",(0,t.jsx)(s.p,{children:"This command is responsible for restoring backups of the Call Center. It requires the backup file path as an input parameter."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Output of simotelhelper db restore BackupPath:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"root@simotel:~# simotelhelper db restore /var/spool/simotel/backup/cli/Simotel-pbx-20210623-1203.gz\r\n\r\nDrop collections of database before restore? [Y/n] ?\r\ny\r\nDEBUG 2021-06-23T12:29:44.190+0430      preparing collections to restore from\r\n...\r\nDEBUG 2021-06-23T12:29:44.685+0430      112 document(s) restored successfully. 0 document(s) failed to restore.\n"})}),"\n",(0,t.jsx)(s.h3,{id:"simotelhelper-db-start",children:"simotelhelper db start"}),"\n",(0,t.jsx)(s.p,{children:"This command starts the database."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Output of simotelhelper db start:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"root@simotel:~# simotelhelper db start\r\n---------------------------------\r\nSuccessfully start mongodb\r\n---------------------------------\r\nabout to fork child process, waiting until server is ready for connections.\r\n...\n"})}),"\n",(0,t.jsx)(s.h3,{id:"simotelhelper-db-status",children:"simotelhelper db status"}),"\n",(0,t.jsx)(s.p,{children:"This command displays the status of the database."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Output of simotelhelper db status:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"root@simotel:~# simotelhelper db status\r\n---------------------------------\r\nMongodb status: Running\r\n---------------------------------\n"})}),"\n",(0,t.jsx)(s.h3,{id:"simotelhelper-db-stop",children:"simotelhelper db stop"}),"\n",(0,t.jsx)(s.p,{children:"This command stops the database."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Output of simotelhelper db stop:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"root@simotel:~# simotelhelper db stop\r\n---------------------------------\r\nSuccessfully stop mongodb\r\n---------------------------------\n"})}),"\n",(0,t.jsx)(s.h2,{id:"simotelhelper-iptables",children:"simotelhelper iptables"}),"\n",(0,t.jsx)(s.p,{children:"This command manages iptables configurations."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Output of simotelhelper iptables --help:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:'root@simotel:~# simotelhelper iptables --help\r\nmanage iptables\r\n\r\nUsage:\r\n  simotelhelper iptables [command]\r\n\r\nAvailable Commands:\r\n  apply       apply last iptables configuration\r\n  boot        manage iptables booting\r\n  export      export iptables\r\n  flush       flush(stop) iptables\r\n  import      import iptables\r\n  panel       manage iptables panel view\r\n\r\nFlags:\r\n  -h, --help   help for iptables\r\n\r\nGlobal Flags:\r\n      --host string   Address of server (default "update.mysup.ir")\r\n      --port int      Port of server (default 4994)\r\n\r\nUse "simotelhelper iptables [command] --help" for more information about a command.\n'})}),"\n",(0,t.jsx)(s.h3,{id:"simotelhelper-patch",children:"simotelhelper patch"}),"\n",(0,t.jsx)(s.p,{children:"This command manages patches provided for the Call Center."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Output of simotelhelper patch:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"root@simotel:~# simotelhelper patch\r\nchecking for new patches update\r\n4 update available for you.\r\navailable patches are:\r\n...\r\nChoose patch id:\n"})}),"\n",(0,t.jsx)(s.p,{children:"By entering the ID corresponding to each row, the latest patch for the system can be installed."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Output of simotelhelper patch more:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"root@simotel:~# simotelhelper patch more\r\navailable categories are:\r\n...\r\nChoose category id:\n"})}),"\n",(0,t.jsx)(s.p,{children:"This command provides a category of patches available for the Call Center version."}),"\n",(0,t.jsx)(s.h2,{id:"simotelhelper-serial",children:"simotelhelper serial"}),"\n",(0,t.jsx)(s.p,{children:"This command outputs the serial number assigned to the Call Center."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"root@simotel:~# simotelhelper serial\r\n5lWGi2aOHI7Kc9pOPFoLqh3MxhW8PkaMQK\n"})}),"\n",(0,t.jsx)(s.h2,{id:"simotelhelper-serverstatus",children:"simotelhelper serverstatus"}),"\n",(0,t.jsx)(s.p,{children:"This command provides information about the server and installed services."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Output of simotelhelper serverstatus:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:'root@simotel:~# simotelhelper serverstatus\r\n{\r\n        "Host": {\r\n                "platform": "debian",\r\n                "platformVersion": "10.6",\r\n                "kernelVersion": "4.19.0-11-amd64",\r\n                ...\r\n        },\r\n        "Version": {\r\n                "Simotel": "6.2.22",\r\n                "SimotelEdition": "gold",\r\n                "Helper": "23"\r\n        },\r\n        ...\r\n}\n'})}),"\n",(0,t.jsx)(s.h2,{id:"simotelhelper-timezone",children:"simotelhelper timezone"}),"\n",(0,t.jsx)(s.p,{children:"This command manages the server's timezone."}),"\n",(0,t.jsx)(s.h2,{id:"simotelhelper-update",children:"simotelhelper update"}),"\n",(0,t.jsx)(s.p,{children:"This command installs new updates available for the system."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Output of simotelhelper update:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:'root@simotel:~# simotelhelper update\r\ndoing update\r\n\r\nUsage:\r\n  simotelhelper update [command]\r\n\r\nAvailable Commands:\r\n  check       check for new updates\r\n  dialer      update simotel dialer\r\n  helper      update simotel helper\r\n  simotel     update simotel simotel\r\n\r\nFlags:\r\n  -h, --help   help for update\r\n\r\nGlobal Flags:\r\n      --host string   Address of server (default "update.mysup.ir")\r\n      --port int      Port of server (default 4994)\r\n\r\nUse "simotelhelper update [command] --help" for more information about a command.\r\nsubcommand is required\n'})}),"\n",(0,t.jsx)(s.p,{children:"At this stage, one of the options must be selected to check for updates."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Output of simotelhelper update check:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"root@simotel:~# simotelhelper update check\r\nsimotel: up to date\r\nhelper: up to date\n"})}),"\n",(0,t.jsx)(s.h2,{id:"simotelhelper-version",children:"simotelhelper version"}),"\n",(0,t.jsx)(s.p,{children:"This command shows the version of simotelhelper installed on the server."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Output of simotelhelper version:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"root@simotel:~# simotelhelper version\r\nsimotelhelper version is 23\n"})})]})}function p(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>o,x:()=>i});var n=r(6540);const t={},l=n.createContext(t);function o(e){const s=n.useContext(l);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),n.createElement(l.Provider,{value:s},e.children)}}}]);